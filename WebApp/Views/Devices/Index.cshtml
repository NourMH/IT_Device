@model IEnumerable<WebApp.Models.Device>

@{
    ViewBag.Title = "Index";
}



<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div class="container mt-4 mb-4 ">
    @*<h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">products of @ViewBag.categorys.Name</h3>*@
    @foreach (WebApp.Models.Category cat in ViewBag.categorys)
    {
        <h3 class="w3-border-bottom w3-border-light-grey w3-padding-16">products of @cat.Name</h3>

        <hr>
        <div class="row">
            <div class="col-12 d-flex flex-wrap">
               @if(Model.Where(n => n.cat_id == cat.Id).Count() == 0)
                {
                   <div>No product yet ..</div>
                }
                else { 
                foreach (var item in Model.Where( n=>n.cat_id == cat.Id))
                {
                
                <div class="card  col-12 col-md-5 col-lg-4 p-2" style="width: 20rem;">
                    <h5 class="card-title m-auto p-2">@Html.DisplayFor(modelItem => item.DeviceName)</h5>
                    <img src="~/Images/@item.img" class="card-img-top" alt="...">
                    <div class="card-body">
                        <p class="card-text">@item.description</p>
                    </div>
                    <div class="float-start text-center">
                        @Html.ActionLink("View Details", "Details", new { id = item.Id }, new { @class = "btn btn-primary " })

                    </div>
                </div>
                
                }
                }

            </div>
        </div>
    }
    </div>